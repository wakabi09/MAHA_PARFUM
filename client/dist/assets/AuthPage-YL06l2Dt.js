import{r as t,l as f,j as e,L as u}from"./index-DMg7K7Es.js";import{a as v}from"./index-xsH4HHeE.js";const y=()=>{const[o,p]=t.useState(""),[n,x]=t.useState(""),[i,d]=t.useState(""),[a,c]=t.useState(!1),m=f(),j=async s=>{var h,g;s.preventDefault(),d(""),c(!0);try{const r=await v.post("http://localhost:5000/api/auth/login",{email:o,password:n}),{token:b,role:l}=r.data;localStorage.setItem("token",b),localStorage.setItem("userRole",l),m(l==="owner"||l==="admin"?"/admin/dashboard":"/")}catch(r){d(((g=(h=r.response)==null?void 0:h.data)==null?void 0:g.message)||"Login gagal")}finally{c(!1)}};return e.jsx("div",{className:"d-flex justify-content-center align-items-center vh-100 bg-light",children:e.jsxs("div",{className:"card p-4 shadow",style:{width:"100%",maxWidth:"400px"},children:[e.jsxs("h4",{className:"text-center mb-4",children:[e.jsx("strong",{children:"MAHA PARFUME"})," Login"]}),i&&e.jsx("div",{className:"alert alert-danger",role:"alert",children:i}),e.jsxs("form",{onSubmit:j,children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"email",className:"form-label",children:"Email address"}),e.jsx("input",{type:"email",className:"form-control",id:"email",placeholder:"Enter email",required:!0,value:o,onChange:s=>p(s.target.value),disabled:a})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"password",className:"form-label",children:"Password"}),e.jsx("input",{type:"password",className:"form-control",id:"password",placeholder:"Enter password",required:!0,value:n,onChange:s=>x(s.target.value),disabled:a})]}),e.jsx("button",{type:"submit",className:"btn btn-primary w-100",disabled:a,children:a?"Loading...":"Login"})]}),e.jsxs("div",{className:"mt-3 text-center",children:[e.jsxs("small",{children:["Belum punya akun?"," ",e.jsx(u,{to:"/register",children:"Register"})]}),e.jsx("br",{}),e.jsx("small",{children:e.jsx(u,{to:"/forgot-password",children:"Lupa password?"})})]})]})})};export{y as default};
